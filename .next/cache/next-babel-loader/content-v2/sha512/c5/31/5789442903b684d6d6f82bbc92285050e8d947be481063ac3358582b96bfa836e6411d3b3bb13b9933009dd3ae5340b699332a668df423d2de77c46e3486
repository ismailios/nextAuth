{"ast":null,"code":"import { connectToDB } from \"../../../lib/db\";\nimport { hachPassword } from \"../../../lib/auth\";\n\nconst handler = async (req, res) => {\n  return console.log(req);\n  const data = req.body;\n  const {\n    email,\n    password\n  } = data;\n\n  if (!email || !email.includes(\"@\") || !password || password.trim.length < 7) {\n    res.status(420).json({\n      message: \"Inputs  not valid\"\n    });\n    return;\n  }\n\n  const client = await connectToDB();\n  const db = client.db();\n  const hachedPassword = await hachPassword(password);\n  const result = await db.collection(\"users\").insertOne({\n    email: email,\n    password: hachedPassword\n  });\n  res.status(201).json({\n    message: \"User Created Successefully !!\"\n  });\n};\n\nexport default handler;","map":{"version":3,"sources":["/Users/user/Downloads/nextjs-course-code-12-auth-extra-files/starting-project/pages/api/auth/signup.js"],"names":["connectToDB","hachPassword","handler","req","res","console","log","data","body","email","password","includes","trim","length","status","json","message","client","db","hachedPassword","result","collection","insertOne"],"mappings":"AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,SAASC,YAAT,QAA6B,mBAA7B;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,SAAOC,OAAO,CAACC,GAAR,CAAYH,GAAZ,CAAP;AACA,QAAMI,IAAI,GAAGJ,GAAG,CAACK,IAAjB;AAEA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,IAA5B;;AAEA,MAAI,CAACE,KAAD,IAAU,CAACA,KAAK,CAACE,QAAN,CAAe,GAAf,CAAX,IAAkC,CAACD,QAAnC,IAA+CA,QAAQ,CAACE,IAAT,CAAcC,MAAd,GAAuB,CAA1E,EAA6E;AAC3ET,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,MAAAA,OAAO,EAAE;AADU,KAArB;AAGA;AACD;;AAED,QAAMC,MAAM,GAAG,MAAMjB,WAAW,EAAhC;AACA,QAAMkB,EAAE,GAAGD,MAAM,CAACC,EAAP,EAAX;AAEA,QAAMC,cAAc,GAAG,MAAMlB,YAAY,CAACS,QAAD,CAAzC;AAEA,QAAMU,MAAM,GAAG,MAAMF,EAAE,CAACG,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC;AACpDb,IAAAA,KAAK,EAAEA,KAD6C;AAEpDC,IAAAA,QAAQ,EAAES;AAF0C,GAAjC,CAArB;AAKAf,EAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,IAAAA,OAAO,EAAE;AADU,GAArB;AAGD,CA1BD;;AA4BA,eAAed,OAAf","sourcesContent":["import { connectToDB } from \"../../../lib/db\";\nimport { hachPassword } from \"../../../lib/auth\";\n\nconst handler = async (req, res) => {\n  return console.log(req);\n  const data = req.body;\n\n  const { email, password } = data;\n\n  if (!email || !email.includes(\"@\") || !password || password.trim.length < 7) {\n    res.status(420).json({\n      message: \"Inputs  not valid\",\n    });\n    return;\n  }\n\n  const client = await connectToDB();\n  const db = client.db();\n\n  const hachedPassword = await hachPassword(password);\n\n  const result = await db.collection(\"users\").insertOne({\n    email: email,\n    password: hachedPassword,\n  });\n\n  res.status(201).json({\n    message: \"User Created Successefully !!\",\n  });\n};\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}